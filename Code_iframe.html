<!DOCTYPE html>
<html>

<style>
<!--css code to display the iframe in responsive design-->

.iframeWrapper{
   position: absolute;
   top: 5 % ;
   left: 5 % ;
   width: 90 % ;
   height: 90 % ;
   margin: auto;
}


</style>

<script>

// construct an empty object "date" into which the "onload" command in the iframe tag writes the current date and time when a new page is loaded within the iframe. This allows me to identify when a respondent clicked the donate button and match this data with the API data (solves the problem of uniquely identifying donors when multiple donors donate at the same time, as data can be obtained from the API indicating what day and time a donation was created ("created_at" attribute)).

const date = [];

function callBetterPlace() {
fetch('https://api.betterplace.org/de/api_v4/fundraising_events/39361.json')
	.then(response => response.json())
	.then(data => {
	  console.log(data);
	  });
	  
fetch('https://api.betterplace.org/de/api_v4/fundraising_events/39361/opinions.json?per_page=20&page=1')
	.then(response => response.json())
	.then(data2 => {
	  console.log(data2);
	  });
	  
console.log(date);
}

</script>


<div class="iframeWrapper" align="center">
<iframe frameborder="0" width="1000" height="1000" onLoad="date.unshift(Date());" src="https://www.betterplace.org/en/donate/platform/fundraising-events/39361?donation_amount=" scrolling="yes" ></iframe>
</div>

<center><button style= "margin-top: 50px; margin-bottom: 50px" onclick="callBetterPlace()">Continue (API Call -> look console)</button></center>


</html>



